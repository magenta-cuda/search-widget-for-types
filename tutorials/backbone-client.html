<!DOCTYPE html>
<html>
<head>
<script type='text/javascript' src='http://me.local.com/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='http://me.local.com/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<script type='text/javascript' src='http://me.local.com/wp-includes/js/underscore.min.js'></script>
<script type='text/javascript' src='http://me.local.com/wp-includes/js/backbone.min.js'></script>
<script type='text/javascript'>
    // This can be used to set the WordPress AJAX URL; only neccessary if different from window.location.origin + '/wp-admin/admin-ajax.php'
    //window.mcst = window.mcst || {};
    //window.mcst.ajaxUrl = "http://me.local.com/wp-admin/admin-ajax.php"
</script>
<script type='text/javascript' src='http://me.local.com/wp-content/plugins/search-types-custom-fields-widget/js/wp-mcst-api.js'></script>
</head>
<body>
<pre></pre>
<script type="text/javascript">
( function() {
    // restLoadPromise is used register callbacks to be called when the REST API becomes available
    window.mcst.restLoadPromise.done( function() {
        var collections = mcst.api.collections;
        content = "";
        for ( var collection in collections ) {
            console.log( "name: " + collection );
            content += "name: " + collection + "\n";
            var options = collections[collection].prototype.options;
            for ( var option in options ) {
                console.log( "    " + option + ": " + options[ option ].description );
                content += "    " + option + ": " + options[ option ].description + "\n";
            }
        }
        document.querySelector("pre").textContent = content;
        //var collection = new mcst.api.collections.Lakes();
        //collection.fetch( { data: { "lake-type": "salt" }, success: function( collection, response, options ) {
        var collection = new wp.api.collections.Posts();
        collection.fetch( { data: { include: [ 1 ] }, success: function( collection, response, options ) {
            console.log( collection );
        }, error: function( collection, response, options ) {
            alert( "fetch() failed." );
        } } );
    } );
} )();
</script>
</body>
</html>
